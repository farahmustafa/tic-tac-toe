<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="style/css/main.css">
  
  <title>Start Game</title>

</head>

<body>
 
  <div class="tic-header">
    <ul class="tic">

      <li> <a href="tic.html" class="active">Home</a></li>
      <li>
        <a href="login.html" class="active1">Login</a>
      </li>
      <li> <a href="registration.html" class="active1">Registertion</a></li>
      <li> <a href="start.html" class="active1">Start Game</a></li>
    </ul>
  </div>
  <div class="playername">
    <form>
      <label for="player1"> Enter your name:</label>
      <input type="text" id="player" name="pname">
      <input type="button" value="Submit" id="namebutton" />
    </form>
  </div>

  <div class="container">
    <h1>Tic-Tac-Toe</h1>
    <div class="play-area" id="main">
      <div id="box0" class="block"></div>
      <div id="box1" class="block"></div>
      <div id="box2" class="block"></div>
      <div id="box3" class="block"></div>
      <div id="box4" class="block"></div>
      <div id="box5" class="block"></div>
      <div id="box6" class="block"></div>
      <div id="box7" class="block"></div>
      <div id="box8" class="block"></div>
    </div>
    <div class="repl">
      <button class="btn1" onclick="replay()">Replay</button>
    </div>
  </div>

  <div class="modal" id="winform" >
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <button type="button" class="close" onclick="closeForm()" data-dismiss="modal">&times;</button>
          <h3 class="headh3">Tic-Tac-Toe</h3>
        </div>
         <!-- Modal body -->
        <div class="modal-body">
          <h3 id="player_name"> </h3>
      </div>
      <div class="modal-footer">
        <button type="button" id="closee" class="btn cancel" onclick="closeForm()">Close</button>
      </div>
      </div>
  </div>
  <script>
 
    var
      turn = document.getElementsByClassName("play-area"),
      boxes = document.querySelectorAll("#main div"),
      XorO = 0;// to set x or o into the box


    for (var i = 0; i < boxes.length; i++) {
      boxes[i].onclick = function () {

        if (this.innerHTML !== "X" && this.innerHTML !== "O") {
          // check if XorO equals zero the result will be x otherwise O
          if (XorO % 2 === 0) {
            console.log(XorO);
            this.innerHTML = "X";
            getWinner();
            XorO += 1;

          } else {
            console.log(XorO);
            this.innerHTML = "O";
            getWinner();
            XorO += 1;

          }
        }
      }
    }
    
    function selectWinnerBoxes(b1, b2, b3 ) {
      b1.classList.add("win");
      b2.classList.add("win");
      b3.classList.add("win");
      var plaName = document.getElementById('player').value;
      document.getElementById("winform").style.display="block";
      document.getElementById("player_name").innerHTML="congrats "+ plaName +" you won" ;
    
    }
    function closeForm() {
     document.getElementById("winform").style.display = "none";
     }
     
     
    function replay() {
      for (var i = 0; i < boxes.length; i++) {
        boxes[i].classList.remove("win");
        boxes[i].innerHTML = "";
      }
      
    }

    function getWinner() {
      var box0 = document.getElementById("box0");//1
      var box1 = document.getElementById("box1");//2
      var box2 = document.getElementById("box2");//3
      var box3 = document.getElementById("box3");//4
      var box4 = document.getElementById("box4");//5
      var box5 = document.getElementById("box5");//6
      var box6 = document.getElementById("box6");//7
      var box7 = document.getElementById("box7");//8
      var box8 = document.getElementById("box8");//9

      if (box0.innerHTML !== "" && box0.innerHTML === box1.innerHTML && box0.innerHTML === box2.innerHTML)
        selectWinnerBoxes(box0, box1, box2);
      if (box3.innerHTML !== "" && box3.innerHTML === box4.innerHTML && box3.innerHTML === box5.innerHTML)
        selectWinnerBoxes(box3, box4, box5);
      if (box6.innerHTML !== "" && box6.innerHTML === box7.innerHTML && box6.innerHTML === box8.innerHTML)
        selectWinnerBoxes(box6, box7, box8);
      if (box1.innerHTML !== "" && box1.innerHTML === box4.innerHTML && box1.innerHTML === box7.innerHTML)
        selectWinnerBoxes(box1, box4, box7);
      if (box2.innerHTML !== "" && box2.innerHTML === box4.innerHTML && box2.innerHTML === box6.innerHTML)
        selectWinnerBoxes(box2, box4, box6);
      if (box0.innerHTML !== "" && box0.innerHTML === box4.innerHTML && box4.innerHTML === box8.innerHTML)
        selectWinnerBoxes(box0, box4, box8);
      if (box0.innerHTML !== "" && box0.innerHTML === box3.innerHTML && box3.innerHTML === box6.innerHTML)
        selectWinnerBoxes(box0, box3, box6);
      if (box2.innerHTML !== "" && box2.innerHTML === box5.innerHTML && box5.innerHTML === box8.innerHTML)
        selectWinnerBoxes(box2, box5, box8);
    }
  </script>
</body>

</html>